<svg
  class="actionButton"
  [ngClass]="{ isRight, pressed }"
  [attr.viewBox]="`0 0 ${viewBoxSize} ${viewBoxSize}`"
  xmlns="http://www.w3.org/2000/svg"
  [style.width.px]="buttonWidthPx"
  [style.--shadowDistance]="shadowDistancePx()"
>
  <defs>
    <radialGradient
      id="buttonFill"
      gradientUnits="userSpaceOnUse"
      cx="77"
      cy="87"
      r="180"
    >
      <stop offset="0" stop-color="#f1f1f2" />
      <stop offset="0.45" stop-color="#e7e7e9" />
      <stop offset="0.75" stop-color="#dddddf" />
      <stop offset="1" stop-color="#cfcfd3" />
    </radialGradient>

    <radialGradient
      id="innerGradient"
      gradientUnits="userSpaceOnUse"
      cx="127"
      cy="147"
      r="160"
    >
      <stop offset="0" stop-color="rgba(0,0,0,0)" />
      <stop offset="0.45" stop-color="rgba(0,0,0,0.02)" />
      <stop offset="1" stop-color="rgba(0,0,0,0.06)" />
    </radialGradient>

    <radialGradient
      id="outerGradient"
      gradientUnits="userSpaceOnUse"
      [attr.cx]="center"
      [attr.cy]="center"
      [attr.r]="outerRadius"
    >
      <stop offset="0.84" stop-color="rgba(0,0,0,0)" />
      <stop offset="0.94" stop-color="rgba(0,0,0,0.06)" />
      <stop offset="1" stop-color="rgba(0,0,0,0.12)" />
    </radialGradient>

    <clipPath id="circleClip">
      <circle [attr.cx]="center" [attr.cy]="center" [attr.r]="innerRadius" />
    </clipPath>

    <filter id="softBlur" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2" />
    </filter>
  </defs>

  <circle
    class="actionButtonCircle"
    [attr.cx]="center"
    [attr.cy]="center"
    [attr.r]="outerRadius"
    fill="url(#buttonFill)"
    [attr.stroke-width]="borderWidth"
    pointer-events="visiblePainted"
    (click)="onWiiClick()"
    (pointerdown)="onPointerDown()"
    (pointerup)="onPointerCancel()"
    (pointercancel)="onPointerCancel()"
    (pointerleave)="onPointerCancel()"
  />

  <circle
    [attr.cx]="center"
    [attr.cy]="center"
    [attr.r]="innerRadius"
    fill="url(#innerGradient)"
    clip-path="url(#circleClip)"
    pointer-events="none"
  />

  <circle
    [attr.cx]="center"
    [attr.cy]="center"
    [attr.r]="innerRadius"
    fill="url(#outerGradient)"
    clip-path="url(#circleClip)"
    filter="url(#softBlur)"
    pointer-events="none"
  />

  <!-- wonky bubble boi -->
  <path
    d="M 47 142 
       C 22 128, 22 93, 42 72
       C 62 53, 92 50, 124 67
       C 145 78, 145 108, 122 128
       C 99 148, 72 154, 47 142 Z"
    fill="white"
    opacity="0.42"
    transform="rotate(-16 77 92)"
    filter="url(#softBlur)"
    clip-path="url(#circleClip)"
    pointer-events="none"
  />
</svg>
